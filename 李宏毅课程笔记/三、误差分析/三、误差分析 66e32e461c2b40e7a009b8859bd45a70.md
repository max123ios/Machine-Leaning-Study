# 三、误差分析

## 1、知识回顾

        

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled.png)

越复杂的模型，拟合训练数据的能力越前，但却不能保证在测试数据上表现的更好。

## 2、误差的来源

对于某个问题，我们通过训练数据得到的模型  $f^\*$只是真正这个问题的处理函数 $\hat{f}$ 的一个估测值，因为你永远看不到所有的数据。

偏差和方差的估计：

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%201.png)

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%202.png)

- 对于某一个分布的估计，取了很多个样本，都没有估对这个样本，但如果样本取均值与分布均值相同，则表明是没有偏差的估计，而偏离均值越大，则表明偏差越大。
- 另一种是，待估的分布存在一个方差，方差表明数据的离散程度，同样需要收集样本估测分布的离散程度，有时候即使估测出来的均值符合，但如果方差不对，估测的分布也是存在问题的。

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%203.png)

所以模型估计的误差来自两个方面：

- 偏差—是否正中靶心
- 方差—离散程度

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%204.png)

通常简单的model，方差小；复杂的模型，方差大。

因为复杂的模型收极端数据的影响，而简单的模型不容易受数据的影响。

理解上可以考虑极端简单的函数，$f(x) = c$，无论数据如何变化，其模型都不发生变化。

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%205.png)

简单的模型平均起来，通常偏差会比较大（蓝色的线为平均模型），而复杂的模型呢，通常偏差会比较小。

理解这个问题，简单的model所包含的范围比较小，可能就没有包含目标模型，而复杂模型所包含范围比较大，很容易包含目标模型，所以在足够次数的情况下，很容易得到无偏的目标模型。

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%206.png)

随着模型复杂度不断提高，由方差引起的误差不断增大，由偏差引起的误差不断减小。

好的模型，就是平衡这两种误差，取得一个比较好的模型。

## 3、如何处理误差

- 偏差

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%207.png)

如果模型无法拟合数据，那就是偏差大，要增加模型复杂度，增加更多特征。

- 方差

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%208.png)

如果模型方差大，能够充分拟合训练数据，但在测试数据上表现较差，就表明是方差大。

这个时候可以增多数据，尽可能知道真实的分布，要么正则化模型，使得模型复杂度降低。

## 4、模型选择

在做模型选择时，有一个错误一定要意识到

![Untitled](%E4%B8%89%E3%80%81%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90%2066e32e461c2b40e7a009b8859bd45a70/Untitled%209.png)

我们使用，test set帮助我们选择一个好的模型，这个选择的过程中其实就是在手动拟合test数据，得到的模型是另一种形式的过拟合的模型。
